## Game > Gamebase > Console ご利用ガイド > 運営

アプリを運営する際に必要な機能を提供するメニューです。

* メンテナンス(Maintenance)：アプリメンテナンス管理
* 告知(Notice)：ゲームユーザーにポップアップで提供する緊急告知管理
* イメージ告知(Image notice)：ゲームユーザーにイメージで提供するイメージ告知管理
* キックアウト(Kick out)：アプリを使用するユーザーの接続を解除

## Maintenance

![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_01_ja_240625.png)

ゲームメンテナンスが必要な場合、Consoleから簡単に登録することができます。
登録したアプリメンテナンス内訳の照会とメンテナンスの登録内容及び進行状態などを一目で確認でき、登録されたメンテナンス理由でメンテナンスを検索することができます。
メンテナンス状態は、次の5つに分けられます。

(1) 予約中：メンテナンス進行予定
(2) メンテナンス中：現在、メンテナンスが進行している状態
(3) 終了：メンテナンス時間終了
(4) メンテナンス解除：メンテナンス進行中の状態で運営者が**メンテナンス解除**をした場合
(5) メンテナンス解除(期限切れ)：**メンテナンス解除**状態でメンテナンス時間が終了した場合

Gamebaseでは、メンテナンスが進行しているゲーム内でユーザーに表示するメンテナンスポップアップと詳細ページを提供しています。
Gamebaseで基本提供するメンテナンスポップアップ
![gamebase_op_img](https://static.toastoven.net/prod_gamebase/gamebase_op_02_201812.png)
Gamebaseで基本提供するメンテナンスページ(メンテナンス理由とメンテナンス時間を表示)
![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_02_ja_240105.jpg)

### Register Maintenance

**メンテナンス**タブから**登録**ボタンをクリックすると、メンテナンスを登録する画面へ移動します。

![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_03_ja_240625.png)

>  <font color="red">[注意] </font><br/>
>  
>  **アップデート必須とメンテナンスが同時に設定**されている場合、サービス状態は「アップデート必須」になります。
> メンテナンス進行中に、ユーザーにアップデート必須ポップアップを表示したくない場合は、メンテナンス完了後にサービスの状態を「アップデート必須」に変更する必要があります。

#### (1)対象
メンテナンスを進行する対象を選択します。

- 全てのゲーム：すべてのクライアントバージョンにメンテナンスが必要な場合に選択します。
- 一部クライアント：特定クライアントバージョンにのみメンテナンスが必要な場合に選択します。「バージョン選択」ボタンを押すと、クライアントメニューで登録したクライアントバージョンリストが出力されます。
  **[一部クライアント選択画面例]**
 クライアントの状態およびストア別全体選択が可能で、メンテナンスを行いたいクライアントのバージョンを選択して確認ボタンを押してください。
![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_04_ja_240625.png)

#### (2)理由
メンテナンスが行われる理由を入力します。
この入力情報はゲームユーザーに表示されず、このメンテナンスを登録する簡単な理由について入力してください。

#### (3)時間
メンテナンスが行われる時間を設定します。
タイムゾーンの場合、デフォルトで「UTC+09：00」が選択されており、サービスを行う国の時間帯を選択してメンテナンスを登録することも可能です。

#### (4)メンテナンスページ
ユーザーに提供するメンテナンスページのタイプを設定します。
**Gamebase提供ページ(Webビュー)**、**ユーザー定義HTML(Webビュー)**、**外部ページ**の中から選択することができ、項目ごとに入力ウィンドウが異なります。
各項目の追加入力項目は以下の通りです。入力した内容は**プレビュー**をクリックして確認できます。

##### 4-1) Gamebase提供ページ(Webビュー)
基本的に提供される形式のメンテナンスページで、Gamebaseで提供するWebビューページに運営者が入力した情報を表示します。
別途メンテナンスページがない場合に有用です。
**表示メッセージ**にはメンテナンス進行中にユーザーに表示するメッセージを入力します。
メッセージは英語、日本語、中国語などの外国語で入力することができ、登録された言語のうち、選択された言語は「基本言語」として設定されます。
登録されたメッセージの中にマッチする言語がないユーザーには「基本言語」に選択された言語が表示されます。右側の**+**ボタンを押すと言語を追加することができ、追加したい言語がない場合は[サポート](https://toast.com/support/inquiry)へ連絡していただければ新しい言語を追加できます。
**プレビュー**をクリックすると「基本言語」のプレビュー画面を確認できます。

##### 4-2)ユーザー提供HTML(Webビュー)
運営者が直接メンテナンスページをHTML形式で入力してユーザーに提供します。
入力したHTMLタグを元にしたプレビューページもサポートします。
自由にメンテナンスページを作りたい時に有用です。

##### 4-3)外部ページ

![image alt](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_05_ja_240625.png)
メンテナンスページまたはメンテナンステンプレートを既にお持ちの場合、メンテナンスページを該当するURLでリンクさせることができます。
リンクさせるURLのプレビューページも併せてサポートします。
メンテナンス情報を別途入力してメンテナンス情報を受け取りたい場合、**メンテナンス情報の提供**項目を選択して**表示するメッセージ**にメッセージを入力します。メンテナンスページでGamebaseのメンテナンス内容に登録したメンテナンス情報(メンテナンス時間の情報、メッセージなど)を受け取ることができます。
メンテナンスを知らせるパラメーターは、次の通りです。すべてURLエンコードされて転送されます。

- message：デバイス情報で設定した言語に基づいたメンテナンスメッセージ。プレビューの場合、デフォルトで選択されたメッセージが送られます。
- timezone：メンテナンスを登録する際に選択した標準時の情報 例) UTC+9の場合、送られる値 - +09:00
- beginDate：メンテナンスを登録する際に入力した開始時刻
- endDate：メンテナンスを登録する際に入力した終了時刻

#### (5)表示メッセージ
メンテナンス時に表示するメッセージを設定します。
**基本言語で自動翻訳**ボタンをクリックすると、基本言語に入力された内容を翻訳して各項目に設定された言語に合わせて入力されます。

### Modify Maintenance

登録したメンテナンスの詳細内容を確認して修正、削除することができます。
基本的に入力項目は登録画面と同じで、メンテナンスを誤って登録した場合、削除ボタンでメンテナンスを削除することもできます。
同じような内容でメンテナンスをもう一度登録する場合、コピー機能を使ってメンテナンスを簡単に登録することができます。

## Notice

![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_06_ja_240625.png)

アプリを起動する際にポップアップ形式で表示されるお知らせを提供します。ログインする前に表示されるポップアップですので、外部認証障害やゲームサーバーに障害が発生した場合、登録して使用してください。
登録されたお知らせリストと進行状態などを一目で確認でき、お知らせメッセージでも検索できます。
お知らせ状態は、下の3つに分けて管理されます。

(1) 予定：お知らせ表示予定
(2) 表示中：お知らせ表示中
(3) 完了：お知らせ表示時間終了

### Register Notice

告知メイン画面で「登録」ボタンを押すと告知を登録する画面に移動します。

![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_07_ja_240625.png)

#### (1) 対象

お知らせを表示する対象を選択します。

- 全体ゲーム：すべてのクライアントバージョンにおいてメンテナンスが必要な場合に選択します。
- 一部のクライアント：特定のクライアントバージョンに対してだけメンテナンスが必要な場合に選択します。「バージョン 選択」ボタンをクリックすると、クライアントメニューから登録したクライアントバージョンのリストが出力されます。
  **一部のクライアントを選択する画面の例**
  クライアントの状態及びストアごとに全体を選択することができ、メンテナンスが必要なクライアントバージョンを選択してから確認ボタンを押してください。
  ![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_04_ja_240625.png)

#### (2) 対象国家
お知らせを表示する国家を選択します。

- 全体国家：すべてのユーザーに表示
- 一部国家：選択した国家のユーザーに対してだけお知らせを表示。
  追加する国家コードを入力すると自動で完成され、入力されます。入力する国家コードがない場合、[カスタマーセンター](https://toast.com/support/inquiry)までご連絡ください。

> [参考]
> 国家判断基準
> ユーザーの**USIMの国家コード**を基に判断し、USIMがない場合、**Device**に設定されている国家を基にお知らせが表示されます。

#### (3) 表示回数
お知らせをユーザーに表示する回数を選択します。
- 期間中1回表示：表示期間中に1回表示
- アプリを起動するたびに表示：表示期間中、ユーザーがアプリを起動するたびにお知らせを表示

#### (4) 表示時間
お知らせが表示される時間を設定します。
Timezoneの場合、基本的に「UTC+09:00」が選択されており、サービスする国家の時間帯を選択してメンテナンスを登録することもできます。

#### (5) 表示するメッセージ
ユーザーに表示するお知らせメッセージを入力します。
メッセージは多国語入力が可能で、登録された言語の中から選択された言語は、「基本言語」に設定されます。
登録されたメッセージとマッチングする言語がないユーザーには、「基本言語」として選択された言語が表示されます。右の**+**ボタンをクリックすると言語を追加でき、利用したい言語がない場合、[カスタマーセンター](https://toast.com/support/inquiry) までご連絡ください。新しい言語を追加することができます。
**基本言語で自動翻訳**ボタンをクリックすると、基本言語に入力された内容を翻訳して各項目に設定された言語に合わせて入力されます。

#### (6)下部ボタンタイプ
告知ポップアップの下部に表示されるボタンのタイプを指定します。
- 閉じる：閉じるボタンのみ表示。
  「閉じる」ボタンを押すとポップアップを閉じ、ゲームを進行します。

- 閉じる+詳細表示： 「閉じる」と「詳細表示」ボタンを表示。
  - 直接入力：ユーザーが「詳細表示」ボタンを押すと、Consoleで入力したリンクをWebViewで開きます。
  - サポート接続：Gamebase提供サポートを設定している場合、ユーザーが「詳細表示」ボタンを押すと、サポートをWebViewで開きます。


#### 緊急のお知らせポップアップの例
閉じるボタン(左), 閉じる+詳細確認(右)
![gamebase_op_img](https://static.toastoven.net/prod_gamebase/gamebase_op_08_201812.png)

### Modify Notice

登録した告知の詳細内容の確認、修正、削除が行えます。
基本的に入力項目は登録画面と同じで、告知を間違えて登録した時は削除ボタンを押して削除できます。
類似した内容でメンテナンスを再度登録したい場合は、コピー機能を利用して告知を簡単に登録できます。

## Image notice

![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_08_ja_240625.png)

コンソールにイメージを登録してゲーム内にイメージで告知を簡単に提供できます。
ユーザーが検索した期間内現在進行中の告知は上部に最大10件まで表示され、完了した告知は下部に別のリストとして表示されます。
現在進行中の告知のリストから直接行を移動して表示順を設定することができ、ゲームで表示APIを呼び出すと、一番上に登録された画像が優先的に表示されます。

> [参考]
>
> 画像告知ポップアップの一括適用される基本的な設定は、**Gamebase > アプリ > 画像告知**で行うことができます。

#### properties
各項目に表示される内容は、以下の通りです。

- **告知イメージ**：実際に表示されるイメージをサムネイルで表示します。登録されたイメージは完了後、14日が経過すると削除され、削除された場合、サムネイルにはデフォルトイメージが表示されます。
- **理由**：登録したイメージ告知の簡単な説明を表示します。入力された内容は実際のイメージ告知には表示されません。
- **表示時間**：告知が表示される時間を表示します。設定すると、登録者が選択した時間とタイムゾーン情報を表示します。
- **表示時間(+09：00)**：告知が表示される時間情報を韓国時刻基準(+09：00)に変更して表示します。
- **修正日**：告知が最終的に修正された時刻を表示します。
- **クリック率(%)**：ゲーム内にイメージ告知が表示された数とイメージ告知をクリックした数を簡単な統計で表示します。全体比率の値を表示し、確認ボタンを押すと表示期間の日別表示数とクリック数をグラフで確認できます。
 * 告知の表示期間範囲内のユーザーが検索して照会した日付別データは、ファイルとしてダウンロードして確認できます。
![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_09_ja_240625.jpg)
```
(1)予定：イメージ告知が表示される予定の状態
(2)表示中：現在、イメージ告知が表示中の状態
(3)完了：表示時間終了
```

### Register Image notice

**イメージ告知**リストから**登録**ボタンを選択すると、イメージ告知を登録できます。
![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_10_ja_240625.png)

#### (1)対象

イメージ告知を表示する対象を選択します。

- 全てのゲーム：すべてのクライアントバージョンに表示する必要がある場合に選択します。
- 一部のクライアント：特定のクライアントバージョンにのみ表示する必要がある場合に選択します。「バージョン選択」ボタンを押すと、クライアントメニューで登録したクライアントバージョンリストが出力されます。
  **一部のクライアント選択画面例**
 クライアントの状態およびストア別全体選択が可能で、表示したいクライアントバージョンを選択して確認ボタンを押してください。
![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_04_ja_240625.png)


#### (2)対象国
告知を表示する国を選択します。

- 全ての国：すべてのゲームユーザーに表示
- 一部の国：選択した国のユーザーにのみ告知を表示
 追加したい国コードを入力すると、自動的に完成して入力されます。入力したい国コードがない場合は[サポート](https://toast.com/support/inquiry)へご連絡ください。

> [参考]
>
> 国判断基準
> ユーザーの**USIM**国コードを元に判断し、USIMがない場合、**端末**に設定されている国を基準に告知が表示されます。


#### (3)理由
イメージ告知が登録された理由を入力します。
入力情報はゲームユーザーに表示されず、運営上識別するための情報を簡単に入力してください。

#### (4)表示時間
登録されたイメージがゲーム内に表示される時間を設定します。
タイムゾーンの場合、デフォルトで「UTC+09：00」が選択されており、サービスを行う国の時間帯を選択してメンテナンスを登録することも可能です。

#### (5)イメージ
ゲーム内に表示するイメージを登録します。
言語ごとに表示したいイメージを設定することができ、端末の言語に合わせてイメージが表示されます。
登録可能なファイル形式はJPEG、JPG、PNGで、サイズは最大512kbまでです。
イメージの推奨サイズは1200x900(Landscape)、900x1200(Portrait)です。横、縦イメージ比率を維持して全体イメージを表示しますが、どちらかが長過ぎる場合はイメージが切れて表示されることがあります。
プレビューイメージを押すと、原本イメージを確認できます。

> [参考]
> 
> アップロードした画像は、イメージ告知の表示期間が過ぎた後、14日が経過すると自動的に削除されます。

#### (6)画像クリック動作
ゲームユーザーが画像告知をクリックしたときに処理するクリック動作を設定します。
クリックアクションは、言語別に表示したい画像ごとに設定することができ、設定できるクリックアクションは次のとおりです。

- **URLを開く**：移動するURLを入力します。クリック後、入力したURLを新しいWebビューで開き、画像告知ウィンドウは自動的に閉じません。
- Payload**：入力したデータをクライアントに転送します。渡された値を利用して、画像クリック時にゲーム内画面に移動したり、特定のイベントを処理したりできます。クリック後、開いた画像告知は全て終了します。
- **動作なし**：画像告知をクリックしても特に何もしません。

> [参考]
>
> **URLを開く**項目に特定の**http**URLを使用したい場合は、Androidビルドにドメイン例外宣言を追加する必要があります。
> 追加していない場合、OSの基本的な制約により、Android 9.0以上の端末では、ページが正常に表示されません。

### Modify Image notice

登録したイメージ告知の詳細内容の確認、修正、削除が可能です。
イメージを変更したい場合は、修正画面から再度登録することができます。またイメージ告知の表示時間や表示対象などを修正できます。
登録されたイメージ告知と類似した内容でイメージ告知を再度登録したい場合は、コピー機能を利用してイメージのみ新たにアップロードして登録できます。


## Kick Out
ゲームメンテナンスなどの理由でユーザーの接続を解除する場合は、Consoleから簡単にユーザーの接続を解除できます。
登録したキックアウト内容は、ひと目で確認できます。
![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_11_ja_240625.png)

### Register Kick Out

**キックアウト**タブで**登録**ボタンを押すと、キックアウトを登録する画面に移動します。

![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_12_ja_240625.png)

### (1)処理対象
キックアウト対象のクライアントを選択します。
- 全てのクライアント：すべてのクライアントバージョンにキックアウトが必要な場合選択します。
- 一部のクライアント：特定のクライアントバージョンにのみキックアウトが必要な場合に選択します。「バージョン選択」ボタンを押すと、クライアントメニューで登録したクライアントバージョンリストが出力されます。
  **[一部のクライアント選択画面例]**
 クライアントの状態およびストア別全体選択が可能で、メンテナンスを行いいたいクライアントバージョンを選択し、確認ボタンを押してください。
![gamebase_op_img](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_gamebase/ConsoleGuide/Operation/jp/gamebase_maintenance_04_ja_240625.png)

### (2)理由
キックアウトが行われる理由を最大100文字まで作成できます。
この入力情報は、ゲームユーザーに表示されません。運営目的でこのキックアウトを登録する簡単な理由について入力してください。

### (3)ポップアップを表示するかどうか
- ポップアップ表示：キックアウト時にユーザーに表示されるポップアップにメッセージを入力できます。
- ポップアップ表示しない：キックアウト時にポップアップを表示しません。

### (4)メッセージ
ユーザーに表示するキックアウトメッセージです。**ポップアップ表示設定**が**ポップアップ表示**の場合にのみ作成できます。
