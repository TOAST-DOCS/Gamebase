## Game > Gamebase > リリースノート > Server API

### 2023. 07. 25.

#### 機能追加
* 購読照会API request bodyに'includeInactiveGoogleStatuses'フィールドを追加
* 購読照会APIレスポンスに'renewTime'フィールドを追加
* 購読照会APIに一度にN個のストアを対象に照会できるように'marketIds'フィールドを追加

### 2022. 12. 27.

#### 機能追加

* Google Playストアの購読中の商品キャンセルAPIを追加
* 購読照会APIレスポンスに「linkedPaymentId」フィールドを追加

#### 機能改善/変更
* 特定の決済シナリオを介してアイテム購入時に未消費決済履歴照会APIのレスポンス結果でgamebaseProductIdがnullになる問題を修正

### 2022. 08. 23.

#### 機能追加
* サーバーURL追加
	* https://api-gamebase.nhncloudservice.com

### 2022. 07. 26.

#### 機能追加
* 未消費決済履歴照会APIで一度にN個のストアを対象に照会できるように「marketIds」を追加

### 2022. 06. 30.

#### 機能追加
* 退会ユーザーがApple ID認証を使用している場合、Apple ID AccessToken満了APIの呼び出しを追加
* 未消費決済履歴照会APIレスポンスに「paymentId」フィールドを追加

### 2022. 06. 14.

#### 機能追加
* 決済トランザクション照会APIを追加
* 未消費決済履歴照会APIレスポンスに「isTestPurchase」フィールドを追加

### 2022. 05. 24.

#### 機能追加
* 利用停止および利用停止解除APIを追加

### 2022. 05. 10.

#### 機能追加
* 特定期間に退会したユーザーを照会するAPIの追加

### 2021. 09. 14.


#### バグ修正
* Leaderboard Wrapping API修正
	* 「複数のユーザースコア/ExtraData登録」APIのマッピングエラーを修正

### 2021. 03. 09.

#### 機能追加
* IdP IDでGamebase user IDを取得するAPIを追加
    
### 2020. 08. 11.

#### 機能改善/変更
* クーポン消費APIのエラーコード追加：クーポンコードに英数字以外の値を入力した場合(Error Code:-4000205)
    
### 2020. 06. 23.

#### 機能追加
* [SDK] 2.11.0
	* 決済API追加：商品IDで決済リクエスト, 追加情報(UserPayload)を入力して決済完了時に確認できる

#### 機能改善/変更
* [Console] 
	* 購入(IAP) > 商品：ストアアイテムIDに複数のGamebase商品を登録して管理できるように改善

### 2020. 06. 09.

#### 機能改善/変更
* [Console] 
	* メンバー > 会員：**退会履歴照会**画面に、退会猶予状態(退会猶予、退会キャンセル、即時退会)を追加表示
* [SDK] 2.10.1
	* (iOS)ユーザープッシュ設定の初期化時、言語コードが設定されていない場合、デバイス言語で設定されるように変更

#### バグ修正
* [Console] 
	* クーポン > クーポン発行：クーポン統計のダウンロード時、SMSで送信した履歴がダウンロードされない問題を修正
* [SDK] 2.10.1
	* (Unity) iOS Pluginで、ViewControllerが設定されておらず、ログイン呼び出し時に失敗する問題を修正
	* (JavaScript)初期化時、StoreCodeを入力していない場合、エラーが発生する問題を修正

### 2020. 05. 26.

#### 機能追加
* [Console] 
	* クーポン > クーポン発行：送信統計機能、クーポン送信履歴のダウンロード機能を追加
* [SDK] 2.10.0
	* (共通)既存のすべてのイベントシステムを統合するGamebaseEventHandlerを追加
		* ServerPush、Observer機能が含まれていて、プロモーション決済イベントおよびプッシュイベントも確認可能

#### 機能改善/変更
* [Console] 
	* 全体：共通デザインガイドに合わせてボタン/タグUIを修正
* [SDK] 2.10.0 
	* (Unity) StandaloneWebviewAdapter内部のCefWebviewバージョンアップデート：v2.0.4
		* WebviewIndex検証ロジックを改善
		* Webview作成時、断続的にNullReferenceExceptionが発生するエラーを修正

### 2020. 05. 12.

#### 機能追加
* [SDK] 2.9.0
	* (Unreal) SDK新規配布

#### 機能改善/変更
* [Console] 
	* アプリ > アプリ：退会猶予期間を変更したユーザーのTOASTアカウントを保存するように改善
	* メンバー > 会員：マッピング履歴照会時、情報が正常に表示されない問題を修正
	* 購入(IAP) > ストア：テスト、購) ONEstoreは新規登録できないように修正

#### バグ修正
* [SDK] 2.9.1
	* (Andｒoid)マッピング以降、指標レベルがnullになり決済指標に正常に反映されない問題を修正
	* (iOS) Unrealエンジンでビルドすると、警告(warning)をビルドエラーと判定してビルドができない問題を修正

### 2020. 04. 29.

#### バグ修正
* [SDK] 2.9.1 
	* (Unity) Initialize後、コンソールでクライアントのサービスの状態を変更するとエラーが発生する問題を修正

### 2020. 04. 28.

#### 機能追加
* 退会猶予機能
	* [SDK] 2.9.0
		*(共通)API追加：退会猶予申請、退会猶予申請キャンセル、退会猶予状態から即時退会、ユーザーの退会猶予状態を確認
	* [Console]
		* アプリ > アプリ：退会猶予期間を設定できる機能を追加

#### 機能改善/変更
* [SDK] 2.9.0
	* (共通) TOAST SDKアップデート： Android(v0.21.0)、iOS(v0.23.0)、Unity(0.20.1)
	* (共通) PAYCO Login SDKアップデート： Android(v1.5.0)、iOS(v1.4.0)
* [Console]
	* 全体メニュー：コンソールボタン、タグのデザインを修正
	* 運営 > メンテナンス、運営 > 告知、プッシュ：多言語自動翻訳機能をサポート
	* メンバー > 会員：退会猶予ユーザーの会員照会時、猶予終了期間を表示
	
### 2020. 04. 14.

#### 機能改善/変更
* [Console] 
	* Analytics共通：TUIチャートバージョンのアップデート、Frequency7指標に適用
* [SDK] 2.8.1 
	* (共通) Analytics転送結果を確認するための内部指標を追加
	
#### バグ修正
* [Console] 
	* Analytics共通：国名が長い場合、スクロール領域からはみ出る問題を修正
	* Analytics > リアルタイムモニタリング：データの保存中に照会リクエストをした時、指標が0と表示される現象を修正
* [SDK] 2.8.1 
	* (Android)プロセスの再起動後、クラッシュが発生する場合があるコードを修正
	* (JavaScript) AdditionalInfoログインにおいて、Hangame IdPでログインできない問題を修正

### 2020. 03. 24.

#### 機能追加
* [Console] 
	* 新規メニューオープン: Analytics > 利用者指標 > Frequency 7
* ユーザーの過去一週間の訪問数と訪問率を提供します。ゲーへの没入度などをひと目で把握できます。
	* クーポン > クーポン発行：クーポンメッセージ送信機能を追加
* [SDK] 2.8.0
	* (共通)決済および商品情報に商品タイプおよび地域価格などの情報を追加
	* (Unity) StandaloneWebviewAdapter内部のCefWebviewがv2.0.1バージョンにアップデート
		* PopupTypeがPASS_INFOの場合、ポップアップを表示させずにポップアップ情報を伝達する機能を追加
 	* (Javascript)ハンゲームチャネリングをサポート：ハンゲームIdP認証、ハンコイン決済を追加


#### 機能改善/変更
* [Console] 
	* アプリ > 転送指標セッティング：あらかじめ登録したメタフィルタのみ転送指標に使用できるように制限
		* メタフィルタ数を制限し、それ以上転送する場合は指標が表示されないため注意してください。：レベル(5,000個)、ワールド/サーバー/チャンネル(100個)、職業/クラス(100個)
* [SDK] 2.8.0 
	* (共通)コンソールに登録されていないアプリバージョンで初期化に失敗した時、ストアに移動できるポップアップが表示されるように改善
	* (Android)ログイン直後に決済関連APIを呼び出す時、初期化タイミングの問題で失敗する場合があるコードを修正

#### バグ修正
* [Console] 
	* 売上指標 > 決済金額
		* チャートのツールチップで通貨がKRWに固定されてしまう問題がありました。アプリで設定した通貨で表示されるように修正
		* 月別で照会時、2月の指標が表示されない問題を修正
		
### 2020. 03. 10.

#### 機能追加

- [Console] 
	- アプリ > アプリ：Analytics売上指標を表示する時、テスト決済を含めるかどうかを設定 
    		- 「テスト決済除外」を設定するとAnalytics売上指標からテスト決済は全て除外されて表示されます。
		- 購入(IAP)：購入(IAP)メニューに初めてアクセスした時、決済指標通貨コードを設定 
	- 最初の1回だけ設定可能です。Analytics売上指標には設定された通貨コードで指標が表示されます。  
  	- モバイルコンソール(TOASTアプリ含む)に「デスクトップ表示」機能を追加

#### 機能改善/変更

- [Console] 
  	- アプリ > インストールURL：URLを入力できるスキーム(scheme)を追加適用 
    		- 既存：共通('http://', 'https://'), Android('market://') 
    		- 追加：iOS('itms://', 'itmss://', 'itms-apps://'), Android('intent://')
- [SDK] 2.7.2 
  	- (Unity) FacebookAdapter改善 
    		- v7.9.4～v7.18.1バージョンまで互換性テスト
    		- Null例外処理 
  	- (Unity) StandaloneWebviewAdapterを改善 
    		- Webページをテスクチャ(texture)でエクスポート追加
    		- マルチWebビューをサポート 
    		- Cookie削除オプションを追加 
    		- テクスチャ(texture)のサイズ調節をサポート 
		- スクロールバー表示/非表示をサポート 
    		- ページロード完了通知 
    		- 透明背景をサポート 
  	- (Unity)エディタでAndroid/iOSプラットフォームを選択してInitialize APIを呼び出すとエラーが発生する問題を修正

#### バグ修正

- [Console] 
  	- Analytics：通貨コードがゲーム内通貨の場合、売上指標が「0」と表示される問題を修正

### 2020. 02. 25.

#### 機能追加
* [Console] 
	* クーポン > クーポン発行：発行したクーポンを設定したストアでのみ使用できる機能を追加
	
#### 機能改善/変更
* [SDK] 2.7.1
	* (Common) GuestでLoginしてGetAuthProviderUserIDを呼び出した時、値を返すように修正
* [Console]
	* アプリ > アプリ：同じクライアントバージョンを削除して再登録した時に通知するロジック追加
	* 購入(IAP) > Item：登録時、購読サービスを登録するための登録フィールド値を追加(App Store - Shared secret,Google store - Domain authentication File Names)

#### バグ修正
* [Console]
	* Analytics > リアルタイムモニタリング > リアルタイム指標：プッシュ送信後、ccu項目に空の値またはinfinityが表示される現象を修正
	* Analytics > 転送指標
		* グリッドのデータがなくなった時、No Dataとなり更新されない問題を修正
		* フィルタ名が短い時、ボタンソートが縦に表示される現象を修正

### 2020. 02. 11.

#### 機能改善/変更
* 退会APIを呼び出す時、regUserの長さに対する有効性チェック(validation)を追加

### 2020. 01. 14.

#### 機能追加
* ユーザー退会APIを追加

### 2019. 11. 12.

#### 機能追加
* クーポンサービス新規オープン：クーポンを大量に作成し、管理する機能
	* クーポン確認および消費APIを追加
	
### 2019.05.28

#### 機能改善/変更
* LTVクエリー修正およびfailoverロジック修正

### 2019.03.26

#### 機能追加
* TransferAccount機能追加：ゲストユーザーがマッピングを行わずに最大2個のキーを利用して新しい端末に移行できる機能
	* 発行されたTransferAccountのID/PWを検証するサーバーAPI (validateTransferAccount)

### 2018.06.26

#### 機能追加
* getSimpleLaunching：クライアントアプリ起動時に提供されるLaunching情報の確認用API

### 2017.11.30

#### 機能改善/変更
* [メンテナンス照会API](./api-guide/#check-under-maintenance)結果をListから単一オブジェクトに変更

### 2017.04.04

#### 機能改善/変更
* [IAP](./api-guide/#purchaseiap) API連携：アイテム照会、未消費内訳照会
* checkAccessToken APIレスポンス結果に、ログイン時に使用されたIdP関連情報を含むスペックを追加

### 2017.03.21

#### 機能改善/変更
* [Leaderboard](./api-guide/#leaderboard), [IAP](./api-guide/#purchaseiap) API連携

### 2017.03.09

#### 新規サービスリリース
* ゲームで共通して必要な機能を提供し、簡単かつ効率的にゲーム開発ができるようにサポートするサービスです。
	* 多様な認証をサポート：ゲストログイン、3rd Party(Google、Facebook、GameCenterなど)認証
	* ログアウトおよび会員退会機能を提供
	* 1人のUserが複数の外部IDPを同時に使用できるようにmapping機能を提供
	* ゲーム運営のためのゲームアプリ状態管理、メンテナンス、緊急告知などの機能をWebコンソールで提供
	* リアルタイムに運営指標を確認できるWebコンソール画面を提供
	* TOAST Cloudサービスと連携：PUSH、IAP
