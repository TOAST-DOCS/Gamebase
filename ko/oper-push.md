## Game > Gamebase > 콘솔 사용 가이드 > 푸시



앱 이용자에게 푸시 알림을 발송할 수 있습니다.

Gamebase에서는 NHN Cloud Push 서비스를 사용해 푸시 알림을 발송합니다.

## Push

> <font color="red">[중요]</font><br/>
>
> 서비스 중인 게임에서 **Gamebase SDK 2.6.0 이상** 버전을 적용한 경우에 사용하는 메뉴입니다.

푸시를 발송한 이력과 등록된 푸시 예약 목록을 확인할 수 있습니다.

![gamebase_push_01_201910](https://static.toastoven.net/prod_gamebase/gamebase_push_01_201910.png)

### Registered List

예약 목록에서 푸시를 선택하면 푸시의 예상 발송 시간 및 등록 정보들을 확인할 수 있습니다. **전송 취소** 버튼을 클릭하여 예약 발송을 취소하거나 **복사** 버튼을 클릭하여 등록된 푸시 등록 정보를 이용해 새 푸시를 등록할 수 있습니다.

### Send History

발송 이력 목록에서 푸시를 선택하면 전송된 푸시의 상세 내역을 조회할 수 있습니다.
**복사** 버튼을 클릭하면 발송된 푸시의 등록 정보를 이용해 손쉽게 푸시를 등록할 수 있습니다.

![gamebase_push_03_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_03_202101.png)

### Register Push

새로운 푸시를 등록하려면 **등록** 버튼을 클릭합니다.
콘솔에 등록한 값이 실제 단말기에서 어떻게 보일지 오른쪽의 미리 보기에서 확인할 수 있습니다.

![gamebase_push_05_202205](https://static.toastoven.net/prod_gamebase/gamebase_push_05_202205.png)

#### (1) 발송 타입

발송 주기를 선택합니다.
- **즉시 발송**: 등록 즉시 푸시 메시지를 발송합니다.
- **예약 발송**: 예약한 시간에 푸시 메시지를 발송합니다. 사용자의 단말기 국가 시간 기준으로 푸시 메시지를 발송하려면 **현지 시간 기준으로 발송**을 선택합니다. **현지 시간 기준으로 발송**을 선택하고 '2017-01-01 09:00'로 설정하면, 한국 단말기를 사용하는 사용자는 한국 시간 '2017-01-01 09:00'에, 영국 단말기를 사용하는 사용자는 영국 시간 '2017-01-01 09:00'에 푸시 메시지를 수신합니다.
- **반복 발송**: 동일한 푸시를 주기적으로 발송합니다. 사용자의 단말기 국가 시간 기준으로 푸시 메시지를 발송하고려면 **현지 시간 기준으로 발송**을 선택합니다. 발송 기간과 시간을 선택합니다. 발송 주기를 **매일**, **매주**, **매월** 기준으로 입력합니다.
	- 매일: 매일 푸시 메시지를 발송합니다.
	- 매주: 발송할 요일을 선택해 특정 요일에만 푸시 메시지를 발송합니다. 요일은 중복으로 선택할 수 있습니다.
	- 매월: 한 달을 기준으로 원하는 일자에 푸시 메시지를 발송합니다. 일자(1~31)만 입력 가능하며 한 개 또는 그 이상의 일자를 입력할 수 있습니다. 예를 들어 1일, 5일, 10일 발송을 원하는 경우 1, 5, 10을 입력하면 됩니다.

#### (2) 발송 대상
푸시 메시지를 발송할 대상을 선택합니다.
- **전체 발송**: OS별로 선택할 수 있습니다. 선택한 OS를 사용하는 사용자는 모두 푸시 메시지를 수신합니다.
- **특정 회원에게만 발송**: 특정 회원에게만 푸시 메시지를 발송할 때 선택합니다. 입력된 사용자 ID로 푸시 토큰을 등록한 단말기에 푸시 메시지를 발송합니다. 대상 사용자가 5개의 단말기로 게임할 때는 5개의 단말기로 푸시 메시지를 발송합니다.
- **그룹 발송**: 메시지 발송을 원하는 사용자 목록을 파일로 등록합니다. 그룹 발송은 1회 최대 10,000명까지 가능합니다.
- **태그 발송**: 태그를 이용해 푸시 메시지를 발송할 수 있습니다. **푸시 - 태그** 메뉴에서 등록된 태그로 발송할 수 있으며 태그를 여러 개 등록할 수도 있습니다. 태그 필터 기능은 다음과 같습니다.
	- AND: 선택한 태그를 모두 만족하는 유저에게만 푸시 메시지를 발송합니다.
	- OR: 선택한 태그 중 하나라도 조건을 만족하는 유저에게 푸시 메시지를 발송합니다.

#### (3) 이벤트 키
푸시 발송 통계에 사용하는 이벤트 키를 선택합니다.
**선택** 버튼을 클릭하면 이벤트 키 선택 팝업이 나타나며 **수집 중** 상태의 이벤트키를 선택할 수 있습니다.
![gamebase_push_22_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_22_202101.png)

#### (4) 대상 국가

푸시 메시지를 발송할 국가를 선택합니다.
- **전체 국가**: 모든 사용자에게 푸시 메시지를 발송합니다.
- **일부 국가**: 선택한 국가의 사용자에게만 푸시 메시지를 발송합니다.
  추가할 국가명을 입력하면 자동으로 완성되어 입력됩니다. 입력할 국가가 없다면 [고객 센터](https://toast.com/support/inquiry)로 연락 주시기 바랍니다.

> [참고]
>
> 국가 판단 기준
> 사용자의 **USIM 국가 코드**를 기준으로 판단하며 USIM이 없을 경우 단말기에 설정되어 있는 국가를 기준으로 푸시 메시지가 표시됩니다.

#### (5) 메시지 타입

> [참고]
>
> 한국의 '정보통신망법'을 준수하기 위해 제공되는 기능입니다.
> 푸시 발송 시 정보성 메시지가 아닌 경우에는 '(광고)'로 메시지를 시작해야 하며 메시지에 연락처와 수신 철회 방법이 포함돼 있어야 합니다.

- **홍보성**: 입력된 메시지에 '(광고)'라는 머리말이 추가됩니다. 또한 추가로 입력한 연락처와 수신 철회 방법이 함께 발송됩니다. 전체 발송과 같은 광고성 푸시 메시지는 국내에서는 정보통신망법 준수를 위하여 꼭 '홍보성' 메시지로 발송해야 합니다.
- **정보성**: 입력된 메시지만 푸시로 발송됩니다. 한국 단말기가 아닌(USIM 국가 코드가 한국이 아닌) 사용자에게는 정보성 메시지로 전송하면 됩니다.


> <font color="red">[중요]</font><br/>
>
> **홍보성**을 선택한 후 입력 메시지에 '(광고)' 문구를 입력하면 '(광고)' 문구가 중복되므로 주의하세요.

#### (6) 메시지 내용

사용자에게 표시할 푸시 메시지를 입력합니다.

메시지는 여러 개 언어로 등록할 수 있으며, 입력한 언어 이외의 언어를 사용하는 사용자에게는 기본 언어로 표시됩니다. 언어를 추가하려면 하단의 **메시지 추가** 버튼을 클릭합니다. 목록에 없는 언어를 추가하려면 [고객 센터](https://toast.com/support/inquiry)로 연락 주시기 바랍니다.
'기본 언어로 자동 번역'버튼을 선택할 경우 기본언어로 입력된 내용을 기반으로 내용을 번역하여 각 항목에 설정된 언어에 맞게 내용이 입력됩니다.

> [참고]
>
> 푸시 메시지를 발송했는데 단말기에 메시지가 오지 않는 경우
> 대부분은 사용자의 푸시 토큰을 등록하지 않은 경우입니다. 사용자의 푸시 토큰을 등록했는지 확인해주세요.
> 플랫폼에서 푸시 토큰을 등록하는 방법은 다음 문서를 참고하시기 바랍니다.
>
> - [Android > Register Push](./aos-push/#2-register-push)
> - [iOS > Register Push](./ios-push/#2-register-push)
> - [Unity > Register Push](./unity-push/#2-register-push)

#### (7) 메시지 글자색(Only Android)

Android에서는 단말기에 표시되는 푸시 메시지의 글자색을 지정할 수 있습니다.
제목과 내용의 색을 각각 지정할 수 있으며 글자색 선택 창에서 색을 선택하거나 RGB Hex값을 직접 입력할 수 있습니다.
선택된 글자색은 오른쪽의 미리 보기 화면에서 확인할 수 있습니다.

#### (8) 메시지 클릭 액션(선택 항목)
푸시 메시지를 클릭할 때 이동할 URL이나 Scheme을 설정할 수 있습니다.

#### (9) 사용자 정의 필드(선택 항목)
푸시 메시지에 함께 전달하고자 하는 사용자 저으이 키를 설정할 수 있습니다.
필드 추가 버튼을 이용하여 항목을 생성할 수 있으며, 최대 10개까지 생성 가능합니다.

#### (8) 알림음(선택 항목)

단말기에서 푸시를 수신할 때 재생되는 알림음을 설정할 수 있습니다.
**알림음 추가** 버튼을 클릭해 설정할 수 있으며 설정하지 않으면 기본 알림음이 재생됩니다.
외부 URL 주소 또는 앱 내 배포된 알림음 파일 경로를 입력합니다.

#### (9) 큰 아이콘(Only Android)

**큰 아이콘 추가** 버튼을 누르면 푸시 메시지 수신 시 오른쪽에 표시될 아이콘 이미지를 설정할 수 있습니다.
큰 아이콘 이미지를 설정하고 푸시 메시지를 전송하면 Android 단말기에서만 이미지가 표시되고 iOS에서는 보이지 않습니다.
**외부**를 선택하고 표시할 아이콘 이미지의 외부 URL을 입력하거나 **내부**를 선택해 앱 내에 배포한 아이콘 이미지 파일 경로를 입력합니다.
외부 이미지일 때는 오른쪽 미리 보기에서 아이콘을 미리 확인할 수 있습니다.

#### (10) 버튼

푸시 메시지 수신 시 메시지 하단에 표시되는 버튼을 최대 3개까지 설정해 함께 보낼 수 있습니다.
버튼 형태는 4가지이며 유형별로 동작 방식과 설정할 값이 다릅니다.

- 앱 열기: 푸시 메시지에서 버튼을 클릭하면 앱을 실행합니다. 버튼 이름만 지정할 수 있습니다.
- URL 열기: 푸시 메시지에서 버튼을 클릭하면 콘솔에서 입력한 URL로 이동합니다. 앱 스키마로 특정 앱을 실행하거나 웹 페이지를 연결할 수 있습니다.
- 응답: 푸시 메시지에서 버튼을 클릭하면 응답할 수 있는 창이 나타납니다. iOS에서는 전송 버튼 이름을 함께 설정할 수 있습니다.
- 닫기: 푸시 메시지에서 버튼을 클릭하면 푸시가 닫힙니다. 버튼 이름만 지정할 수 있습니다.

#### (11) 미디어(iOS)

iOS 푸시 메시지 수신 시에 동적으로 실행되는 미디어를 추가할 수 있습니다.
**IMAGE**, **GIF**, **VIDEO**, **AUDIO** 항목을 설정할 수 있으며 연결할 외부 URL 또는 내부 파일 경로를 입력할 수 있습니다.

#### (12) 미디어(Android)

Android 푸시 메시지 수신 시에 실행되는 미디어를 추가할 수 있습니다.
현재 Android에서는 **IMAGE** 항목만 설정할 수 있으며 연결할 외부 URL 또는 내부 파일 경로를 입력할 수 있습니다.


## Statistics

푸시 메시지, 토큰, 수신 설정과 관련된 지표들을 표와 그래프로 확인할 수 있습니다.
통계는 다음의 메뉴로 구성되어 있습니다.

- 발송/수신: 푸시 메시지 발송 및 수신 관련 지표
- 토큰 등록: 푸시 토큰 등록 및 삭제 관련 지표
- 수신 설정: 푸시 수신 설정 관련 지표

### 발송/수신

![gamebase_push_12_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_12_202101.png)


1. 발송/수신 통계 

선택된 기간 동안의 푸시 메시지 발송/수신 통계를 보여줍니다.

* 발송률: 기간내 전체 발송 성공 수 / 전체 발송 수
* 수신율: 기간내 전체 수신 성공 수 / 전체 발송 성공 수
* 수신확인율: 기간내 전체 수신 확인 수 / 전체 수신 성공 수

2. 푸시 발송 리스트
선택된 기간 동안 푸시 메시지 발송 목록

3. 시간별 데이터
선택된 기간 동안 시간 간격에 따른 푸시 발송, 발송 실패, 수신, 수신 확인 지표를 보여줍니다.

* 선택된 기간이 24시간 이하인 경우에만 **분** 단위 선택이 가능합니다.

### 토큰 등록

![gamebase_push_13_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_13_202101.png)

1. 토큰 등록 통계

선택된 기간 동안의 토큰 등록, 삭제 통계를 보여줍니다.

* 유형: 토큰 유형에 따른 등록 점유율
* 국가: 사용지 국가에 따른 토큰 등록 점유율
* 언어: 사용자 언어에 따른 토큰 등록 점유율

2. 국가
선택된 기간 동안의 사용자 국가에 따른 토큰 등록, 삭제 통계를 보여줍니다.

3. 언어
선택된 기간 동안의 사용자 언어에 따른 토큰 등록, 삭제 통계를 보여줍니다.

### 수신 설정
선택된 기간 동안의 수신 설정 관련 통계를 보여줍니다.
![gamebase_push_14_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_14_202109.png)

|구분|정보성|광고성|야간 광고성|
|------|:---:|:---:|:---:|
|전체 동의| O | O | O |
|전체 거부| | | |
|정보성 동의, 광고 전체 거부| O | | |
|정보성 및 광고 주간 동의, 야간 거부| O | O | |

## Event Key
푸시 발송 통계에 사용하는 이벤트키를 관리할 수 있습니다.
![gamebase_push_15_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_15_202101.png)
Push에서 푸시 메시지를 발송할 때 사용할 이벤트키를 등록할 수 있습니다.

### Event Key register
![gamebase_push_16_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_16_202101.png)

### Event Key detail
등록된 이벤트 키를 관리할 수 있습니다.
![gamebase_push_17_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_17_202101.png)

상단의 **삭제**, **수정** 버튼을 클릭해 이벤트키 정보를 수정하거나 삭제할 수 있습니다.

## Authentication
푸시 발송에 사용하는 인증서를 관리할 수 있습니다.
![gamebase_push_18_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_18_202101.png)

각 인증서 별로 **등록**, **수정**, **삭제** 버튼을 클릭해 인증서를 등록, 수정, 삭제할 수 있습니다.

### Authentication register
![gamebase_push_19_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_19_202101.png)


## Tag

유저를 특정 기준으로 묶어서 전송할 수 있는 태그 기능을 제공합니다.

![gamebase_push_01_201812](https://static.toastoven.net/prod_gamebase/gamebase_push_06_201910.png)

NHN Cloud Push에서 푸시 메시지를 발송할 때 사용할 태그명을 등록할 수 있습니다.



### Tag register

![gamebase_push_01_201812](https://static.toastoven.net/prod_gamebase/gamebase_push_09_201910.png)


### Tag detail

등록된 태그의 관리 및 해당 태그에 등록된 유저의 목록을 관리할 수 있습니다.

![gamebase_push_01_201812](https://static.toastoven.net/prod_gamebase/gamebase_push_07_201911.png)

상단의 **삭제**, **수정** 버튼을 클릭해 태그 정보를 수정하거나 삭제할 수 있으며 하단의 유저 ID 관리 기능을 사용해 태그에 유저를 등록하거나 삭제할 수 있습니다.

#### 유저 등록

##### 단건 등록

![gamebase_push_01_201812](https://static.toastoven.net/prod_gamebase/gamebase_push_08_201910.png)

##### 파일 등록

![gamebase_push_01_201812](https://static.toastoven.net/prod_gamebase/gamebase_push_10_201910.png)

**등록** 버튼을 클릭하면 위와 같이 등록 팝업이 나타나며 직접 ID를 입력하거나 파일을 등록해 입력할 수 있습니다.

**파일 등록**으로는 한 번에 최대 1,000명까지 등록할 수 있습니다.



#### 유저 삭제

![gamebase_push_01_201812](https://static.toastoven.net/prod_gamebase/gamebase_push_11_201910.png)

태그에 등록된 유저를 삭제하려면 유저 목록에서 왼쪽의 체크 박스를 선택한 후 **삭제** 버튼을 클릭합니다.


## Setting
푸시 관련 설정을 할 수 있습니다.
![gamebase_push_20_202205](https://static.toastoven.net/prod_gamebase/gamebase_push_20_202205.png)

### 메시지 수신 및 확인 설정
발송된 메시지의 수신과 확인 정보를 수집하는 기능입니다.

### 중복 메시지 방지 설정
내용이 완전히 같은 메시지가 여러 번 발송 요청 되어도 설정한 시간동안 발송하지 않는 기능입니다.

* 1분부터 60분까지 1분 간격으로 설정할 수 있습니다.

### 광고 표시 문구 위치 설정
광고성 메시지 발송 시 표시되는 광고 표시 위치를 설정할 수 있습니다.

* 우측 **미리보기** 버튼 클릭 시 설정한 광고 표시 문구 위치에 따른 푸시 예시를 확인할 수 있습니다.

![gamebase_push_21_202101](https://static.toastoven.net/prod_gamebase/gamebase_push_21_202101.png)

### 토큰 설정

토큰 만료 기간 설정 및 앱 유형을 설정할 수 있습니다.

* 토큰 만료 기간: 1일에서 730일까지 설정할 수 있습니다.
* 앱 유형
	* 다중 토큰: UID(사용자 아이디)는 여러 개의 토큰을 가질 수 있습니다. 한 사용자가 동시 여러 기기에서 사용할 수 있는 앱입니다.
	* 단일 토큰: UID는 하나의 토큰만 가질 수 있습니다. 한 사용자가 한 기기에서만 사용할 수 있는 앱입니다.

### 발송 내역 저장

메시지 발송 내역을 NHN Cloud Log & Crash Search에 저장하는 기능입니다.

* AppKey: Log & Crash Search 앱 키입니다.
* Log Source: Gamebase에서 제공하는 PUSH API를 이용하여 발송한 PUSH 이력을 Log & Crash Search에서 검색할 수 있습니다.
* Log Level: Log & Crash Search로 전송할 로그 레벨입니다.
	* ALL: 모든 로그가 Log & Crash Search로 전송됩니다.
	* INFO: 만료된 토큰과 발송 실패 로그가 Log & Crash Search로 전송됩니다.
	* ERROR: 발송 실패 로그가 Log & Crash Search로 전송됩니다.

### 광고 수신 동의 안내 메시지 예약 설정
광고 메시지 수신에 동의한지 만 2년 된 사용자에게 수신 재동의 메시지를 자동으로 발송합니다. 만 2년이 되는 달마다 설정한 일시에 메시지가 발송됩니다.
* 사용 여부: 광고 수신 동의 안내 메시지 예약 설정 기능 사용 여부입니다.
* 예약 일: 푸시 메시지를 전달할 일입니다. 3으로 설정하면 매달 3일 메시지가 전송됩니다.
* 예약 시간: 푸시 메시지를 전달할 시간입니다. 예약 일을 3, 예약 시간 11로 설정하면 매달 3일 오전 11시에 메시지가 전송됩니다.
* 안내 메시지
	* 제목: 푸시 메시지 제목을 설정할 수 있습니다.
	* 내용: 푸시 메시지 내용을 설정할 수 있습니다. 광고성 메시지 수신 동의 일시 치환자(###AD_AGREEMENT_DATE_TIME###)를 본문에 넣으면 메시지 발송 시 해당 토큰의 동의 일시로 치환됩니다. 메시지 내용에 수신 동의 사실과 수신에 동의한 날짜, 수신 동의 유지 또는 철회 방법을 반드시 포함해야 합니다.